<!DOCTYPE html><html lang="zh-tw,en,default"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Running a web application in Docker · ChihKang's Blog</title><meta name="description" content="Running a web application in Docker - ChihKang Lin"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives" target="_self" class="nav-list-link">ARCHIVES</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Running a web application in Docker</h1><div class="post-info">2016年8月4日</div><div class="post-content"><h3 id="Get-Docker-command-help"><a href="#Get-Docker-command-help" class="headerlink" title="Get Docker command help"></a>Get Docker command help</h3><p>You can display the help for specific Docker commands. The help details the options and their usage. To see a list of all the possible commands, use the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ docker --help</div></pre></td></tr></table></figure>
<p>To see usage for a specific command, specify the command with the &#x2013;help flag:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$ docker attach --help</div><div class="line"></div><div class="line">Usage: docker attach [OPTIONS] CONTAINER</div><div class="line"></div><div class="line">Attach to a running container</div><div class="line"></div><div class="line">  --help              Print usage</div><div class="line">  --no-stdin          Do not attach stdin</div><div class="line">  --sig-proxy=true    Proxy all received signals to the process</div></pre></td></tr></table></figure>
<blockquote>
<p>Note: For further details and examples of each command, see the <a href="https://docs.docker.com/engine/reference/commandline/cli/" target="_blank" rel="external">command reference</a> in this guide.</p>
</blockquote>
<h3 id="Running-a-web-application-in-Docker"><a href="#Running-a-web-application-in-Docker" class="headerlink" title="Running a web application in Docker"></a>Running a web application in Docker</h3><p>we&#x2019;re going to run a Python Flask application. Start with a <code>docker run</code> command.</p>
<p><strong>(Run in Power Shell)</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker run -d -P training/webapp python app.py</div></pre></td></tr></table></figure></p>
<ul>
<li><code>-d</code> flag which tells Docker to run the container in the background. </li>
<li>The <code>-P</code> flag is new and tells Docker to map any required network ports inside our container to our host.</li>
<li><code>training/webapp.</code> This image is a pre-built image you&#x2019;ve created that contains a simple Python Flask web application.</li>
</ul>
<p>Lastly, you&#x2019;ve specified a command for our container to run: <code>python app.py.</code> This launches our web application.</p>
<blockquote>
<p>Note: You can see more detail on the docker run command in the <a href="https://docs.docker.com/engine/reference/commandline/run/" target="_blank" rel="external">command reference</a><br>and the <a href="https://docs.docker.com/engine/reference/run/" target="_blank" rel="external">Docker Run Reference</a>.</p>
</blockquote>
<h3 id="Viewing-our-web-application-container"><a href="#Viewing-our-web-application-container" class="headerlink" title="Viewing our web application container"></a>Viewing our web application container</h3><p>Now you can see your running container using the <code>docker ps</code> command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker ps -l</div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES</div><div class="line">2bad588c64a3        training/webapp     &quot;python app.py&quot;     8 minutes ago       Up 8 minutes        0.0.0.0:32768-&gt;5000/tcp   ecstatic_stallman</div></pre></td></tr></table></figure>
<ul>
<li><code>-l</code> This tells the <code>docker ps</code> command to return the details of the last container started.</li>
</ul>
<blockquote>
<p>Note: By default, the <code>docker ps</code> command only shows information about running containers.<br>If you want to see stopped containers too use the <code>-a</code> flag.</p>
</blockquote>
<p>In this case Docker has exposed port 5000 (the default Python Flask port) on port 32768.</p>
<p>Network port bindings are very configurable in Docker.</p>
<p>In our last example <em>the <code>-P</code> flag is a shortcut for <code>-p</code> 5000 that maps port 5000 inside the container to a high port</em> (from ephemeral port range which typically ranges from 32768 to 61000) on the local Docker host.</p>
<p>We can also bind Docker containers to specific ports using the <code>-p</code> flag, for example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker run -d -p 5000:5000 training/webapp python app.py</div></pre></td></tr></table></figure>
<p>This would map port 5000 inside our container to port 5000 on our local host. </p>
<p>You might be asking about now: why wouldn&#x2019;t we just want to always use 1:1 port mappings in Docker containers rather than mapping to high ports? </p>
<blockquote>
<p><strong>Well 1:1 mappings have the constraint of only being able to map one of each port on your local host.</strong></p>
<p>Suppose you want to test two Python applications: both bound to port 5000 inside their own containers. Without Docker&#x2019;s port mapping <em>you could only access one at a time on the Docker host.</em></p>
</blockquote>
<p>browse to port 32768 in a web browser to see the application.</p>
<h3 id="A-network-port-shortcut"><a href="#A-network-port-shortcut" class="headerlink" title="A network port shortcut"></a>A network port shortcut</h3><p>Using the <code>docker ps</code> command to return the mapped port is a bit clumsy so Docker has a useful shortcut we can use: <code>docker port</code>.</p>
<p>To use <code>docker port</code> we specify the ID or name of our container and then the port for which we need the corresponding public-facing port.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker ps</div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                     NAMES</div><div class="line">f7b359e64867        training/webapp     &quot;python app.py&quot;     8 minutes ago       Up 8 minutes        0.0.0.0:81-&gt;5000/tcp      naughty_bhabha</div><div class="line">691a88c35245        training/webapp     &quot;python app.py&quot;     8 minutes ago       Up 8 minutes        0.0.0.0:32769-&gt;5000/tcp   jolly_franklin</div><div class="line"></div><div class="line">PS C:\Users\Lin&gt; docker port jolly_franklin 5000</div><div class="line">0.0.0.0:32769</div></pre></td></tr></table></figure>
<h3 id="Viewing-the-web-application&#x2019;s-logs"><a href="#Viewing-the-web-application&#x2019;s-logs" class="headerlink" title="Viewing the web application&#x2019;s logs"></a>Viewing the web application&#x2019;s logs</h3><p>You can also find out a bit more about what&#x2019;s happening with our application and use another of the commands you&#x2019;ve learned, <code>docker logs</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker logs -f jolly_franklin</div><div class="line"> * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</div><div class="line">172.17.0.1 - - [01/Aug/2016 14:10:43] &quot;GET / HTTP/1.1&quot; 200 -</div><div class="line">172.17.0.1 - - [01/Aug/2016 14:10:43] &quot;GET /favicon.ico HTTP/1.1&quot; 404 -</div></pre></td></tr></table></figure>
<ul>
<li><code>-f</code> This causes the docker logs command to act like the <code>tail -f</code> command and watch the container&#x2019;s standard out. We can see here the logs from Flask showing the application running on port 5000 and the access log entries for it.</li>
</ul>
<h3 id="Inspecting-our-web-application-container"><a href="#Inspecting-our-web-application-container" class="headerlink" title="Inspecting our web application container"></a>Inspecting our web application container</h3><p>Lastly, we can take a low-level dive into our Docker container using the <code>docker inspect</code> command. </p>
<p>It returns a JSON document containing useful configuration and status information for the specified container.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker inspect jolly_franklin</div><div class="line">[</div><div class="line">    {</div><div class="line">        &quot;Id&quot;: &quot;691a88c35245b905c8bdc612aa492c7893ea261c13a8ae245cea38ca2be14275&quot;,</div><div class="line">        &quot;Created&quot;: &quot;2016-08-01T14:09:47.5745847Z&quot;,</div><div class="line">        &quot;Path&quot;: &quot;python&quot;,</div><div class="line">        &quot;Args&quot;: [</div><div class="line">            &quot;app.py&quot;</div><div class="line">        ],</div><div class="line">        &quot;State&quot;: {</div><div class="line">            &quot;Status&quot;: &quot;running&quot;,</div><div class="line">            &quot;Running&quot;: true,</div><div class="line">            &quot;Paused&quot;: false,</div><div class="line">            &quot;Restarting&quot;: false,</div><div class="line">            &quot;OOMKilled&quot;: false,</div><div class="line">            &quot;Dead&quot;: false,</div><div class="line">            &quot;Pid&quot;: 2649,</div><div class="line">            &quot;ExitCode&quot;: 0,</div><div class="line">            &quot;Error&quot;: &quot;&quot;,</div><div class="line">            &quot;StartedAt&quot;: &quot;2016-08-01T14:09:48.305777Z&quot;,</div><div class="line">            &quot;FinishedAt&quot;: &quot;0001-01-01T00:00:00Z&quot;</div><div class="line">        },</div><div class="line">        &quot;Image&quot;: &quot;sha256:6fae60ef344644649a39240b94d73b8ba9c67f898ede85cf8e947a887b3e6557&quot;,</div><div class="line">        &quot;ResolvConfPath&quot;: &quot;/var/lib/docker/containers/691a88c35245b905c8bdc612aa492c7893ea261c13a8ae245cea38ca2be14275/resolv.conf&quot;,</div><div class="line">        &quot;HostnamePath&quot;: &quot;/var/lib/docker/containers/691a88c35245b905c8bdc612aa492c7893ea261c13a8ae245cea38ca2be14275/hostname&quot;,</div><div class="line">        &quot;HostsPath&quot;: &quot;/var/lib/docker/containers/691a88c35245b905c8bdc612aa492c7893ea261c13a8ae245cea38ca2be14275/hosts&quot;,</div><div class="line">        &quot;LogPath&quot;: &quot;/var/lib/docker/containers/691a88c35245b905c8bdc612aa492c7893ea261c13a8ae245cea38ca2be14275/691a88c35245b905c8bdc612aa492c7893ea261c13a8ae245cea38ca2be14275-json.log&quot;,</div><div class="line">        &quot;Name&quot;: &quot;/jolly_franklin&quot;,</div><div class="line">        &quot;RestartCount&quot;: 0,</div><div class="line">        &quot;Driver&quot;: &quot;aufs&quot;,</div><div class="line">        &quot;MountLabel&quot;: &quot;&quot;,</div><div class="line">        &quot;ProcessLabel&quot;: &quot;&quot;,</div><div class="line">        &quot;AppArmorProfile&quot;: &quot;&quot;,</div><div class="line">        &quot;ExecIDs&quot;: null,</div><div class="line">        &quot;HostConfig&quot;: {</div><div class="line">            &quot;Binds&quot;: null,</div><div class="line">            &quot;ContainerIDFile&quot;: &quot;&quot;,</div><div class="line">            &quot;LogConfig&quot;: {</div><div class="line">                &quot;Type&quot;: &quot;json-file&quot;,</div><div class="line">                &quot;Config&quot;: {}</div><div class="line">            },</div><div class="line">            &quot;NetworkMode&quot;: &quot;default&quot;,</div><div class="line">            &quot;PortBindings&quot;: {},</div><div class="line">            &quot;RestartPolicy&quot;: {</div><div class="line">                &quot;Name&quot;: &quot;no&quot;,</div><div class="line">                &quot;MaximumRetryCount&quot;: 0</div><div class="line">            },</div><div class="line">            &quot;AutoRemove&quot;: false,</div><div class="line">            &quot;VolumeDriver&quot;: &quot;&quot;,</div><div class="line">            &quot;VolumesFrom&quot;: null,</div><div class="line">            &quot;CapAdd&quot;: null,</div><div class="line">            &quot;CapDrop&quot;: null,</div><div class="line">            &quot;Dns&quot;: [],</div><div class="line">            &quot;DnsOptions&quot;: [],</div><div class="line">            &quot;DnsSearch&quot;: [],</div><div class="line">            &quot;ExtraHosts&quot;: null,</div><div class="line">            &quot;GroupAdd&quot;: null,</div><div class="line">            &quot;IpcMode&quot;: &quot;&quot;,</div><div class="line">            &quot;Cgroup&quot;: &quot;&quot;,</div><div class="line">            &quot;Links&quot;: null,</div><div class="line">            &quot;OomScoreAdj&quot;: 0,</div><div class="line">            &quot;PidMode&quot;: &quot;&quot;,</div><div class="line">            &quot;Privileged&quot;: false,</div><div class="line">            &quot;PublishAllPorts&quot;: true,</div><div class="line">            &quot;ReadonlyRootfs&quot;: false,</div><div class="line">            &quot;SecurityOpt&quot;: null,</div><div class="line">            &quot;UTSMode&quot;: &quot;&quot;,</div><div class="line">            &quot;UsernsMode&quot;: &quot;&quot;,</div><div class="line">            &quot;ShmSize&quot;: 67108864,</div><div class="line">            &quot;Runtime&quot;: &quot;runc&quot;,</div><div class="line">            &quot;ConsoleSize&quot;: [</div><div class="line">                45,</div><div class="line">                189</div><div class="line">            ],</div><div class="line">            &quot;Isolation&quot;: &quot;&quot;,</div><div class="line">            &quot;CpuShares&quot;: 0,</div><div class="line">            &quot;Memory&quot;: 0,</div><div class="line">            &quot;CgroupParent&quot;: &quot;&quot;,</div><div class="line">            &quot;BlkioWeight&quot;: 0,</div><div class="line">            &quot;BlkioWeightDevice&quot;: null,</div><div class="line">            &quot;BlkioDeviceReadBps&quot;: null,</div><div class="line">            &quot;BlkioDeviceWriteBps&quot;: null,</div><div class="line">            &quot;BlkioDeviceReadIOps&quot;: null,</div><div class="line">            &quot;BlkioDeviceWriteIOps&quot;: null,</div><div class="line">            &quot;CpuPeriod&quot;: 0,</div><div class="line">            &quot;CpuQuota&quot;: 0,</div><div class="line">            &quot;CpusetCpus&quot;: &quot;&quot;,</div><div class="line">            &quot;CpusetMems&quot;: &quot;&quot;,</div><div class="line">            &quot;Devices&quot;: [],</div><div class="line">            &quot;DiskQuota&quot;: 0,</div><div class="line">            &quot;KernelMemory&quot;: 0,</div><div class="line">            &quot;MemoryReservation&quot;: 0,</div><div class="line">            &quot;MemorySwap&quot;: 0,</div><div class="line">            &quot;MemorySwappiness&quot;: -1,</div><div class="line">            &quot;OomKillDisable&quot;: false,</div><div class="line">            &quot;PidsLimit&quot;: 0,</div><div class="line">            &quot;Ulimits&quot;: null,</div><div class="line">            &quot;CpuCount&quot;: 0,</div><div class="line">            &quot;CpuPercent&quot;: 0,</div><div class="line">            &quot;IOMaximumIOps&quot;: 0,</div><div class="line">            &quot;IOMaximumBandwidth&quot;: 0</div><div class="line">        },</div><div class="line">        &quot;GraphDriver&quot;: {</div><div class="line">            &quot;Name&quot;: &quot;aufs&quot;,</div><div class="line">            &quot;Data&quot;: null</div><div class="line">        },</div><div class="line">        &quot;Mounts&quot;: [],</div><div class="line">        &quot;Config&quot;: {</div><div class="line">            &quot;Hostname&quot;: &quot;691a88c35245&quot;,</div><div class="line">            &quot;Domainname&quot;: &quot;&quot;,</div><div class="line">            &quot;User&quot;: &quot;&quot;,</div><div class="line">            &quot;AttachStdin&quot;: false,</div><div class="line">            &quot;AttachStdout&quot;: false,</div><div class="line">            &quot;AttachStderr&quot;: false,</div><div class="line">            &quot;ExposedPorts&quot;: {</div><div class="line">                &quot;5000/tcp&quot;: {}</div><div class="line">            },</div><div class="line">            &quot;Tty&quot;: false,</div><div class="line">            &quot;OpenStdin&quot;: false,</div><div class="line">            &quot;StdinOnce&quot;: false,</div><div class="line">            &quot;Env&quot;: [</div><div class="line">                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</div><div class="line">            ],</div><div class="line">            &quot;Cmd&quot;: [</div><div class="line">                &quot;python&quot;,</div><div class="line">                &quot;app.py&quot;</div><div class="line">            ],</div><div class="line">            &quot;Image&quot;: &quot;training/webapp&quot;,</div><div class="line">            &quot;Volumes&quot;: null,</div><div class="line">            &quot;WorkingDir&quot;: &quot;/opt/webapp&quot;,</div><div class="line">            &quot;Entrypoint&quot;: null,</div><div class="line">            &quot;OnBuild&quot;: null,</div><div class="line">            &quot;Labels&quot;: {}</div><div class="line">        },</div><div class="line">        &quot;NetworkSettings&quot;: {</div><div class="line">            &quot;Bridge&quot;: &quot;&quot;,</div><div class="line">            &quot;SandboxID&quot;: &quot;9f3a5d51df36b776f9ea82e184c4a0ec84a4a9e8f7e01a360c5de87a19b5495f&quot;,</div><div class="line">            &quot;HairpinMode&quot;: false,</div><div class="line">            &quot;LinkLocalIPv6Address&quot;: &quot;&quot;,</div><div class="line">            &quot;LinkLocalIPv6PrefixLen&quot;: 0,</div><div class="line">            &quot;Ports&quot;: {</div><div class="line">                &quot;5000/tcp&quot;: [</div><div class="line">                    {</div><div class="line">                        &quot;HostIp&quot;: &quot;0.0.0.0&quot;,</div><div class="line">                        &quot;HostPort&quot;: &quot;32769&quot;</div><div class="line">                    }</div><div class="line">                ]</div><div class="line">            },</div><div class="line">            &quot;SandboxKey&quot;: &quot;/var/run/docker/netns/9f3a5d51df36&quot;,</div><div class="line">            &quot;SecondaryIPAddresses&quot;: null,</div><div class="line">            &quot;SecondaryIPv6Addresses&quot;: null,</div><div class="line">            &quot;EndpointID&quot;: &quot;dc05d09e6d1c4ca3d802bb9660908ad47a8fd3c1215d47947def5de4422bd51e&quot;,</div><div class="line">            &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</div><div class="line">            &quot;GlobalIPv6Address&quot;: &quot;&quot;,</div><div class="line">            &quot;GlobalIPv6PrefixLen&quot;: 0,</div><div class="line">            &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</div><div class="line">            &quot;IPPrefixLen&quot;: 16,</div><div class="line">            &quot;IPv6Gateway&quot;: &quot;&quot;,</div><div class="line">            &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,</div><div class="line">            &quot;Networks&quot;: {</div><div class="line">                &quot;bridge&quot;: {</div><div class="line">                    &quot;IPAMConfig&quot;: null,</div><div class="line">                    &quot;Links&quot;: null,</div><div class="line">                    &quot;Aliases&quot;: null,</div><div class="line">                    &quot;NetworkID&quot;: &quot;e3e9223a5747b36638df7b0804bfac2ee8c92eb2a1d5e6532847e6228506a6fc&quot;,</div><div class="line">                    &quot;EndpointID&quot;: &quot;dc05d09e6d1c4ca3d802bb9660908ad47a8fd3c1215d47947def5de4422bd51e&quot;,</div><div class="line">                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;,</div><div class="line">                    &quot;IPAddress&quot;: &quot;172.17.0.2&quot;,</div><div class="line">                    &quot;IPPrefixLen&quot;: 16,</div><div class="line">                    &quot;IPv6Gateway&quot;: &quot;&quot;,</div><div class="line">                    &quot;GlobalIPv6Address&quot;: &quot;&quot;,</div><div class="line">                    &quot;GlobalIPv6PrefixLen&quot;: 0,</div><div class="line">                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;</div><div class="line">                }</div><div class="line">            }</div><div class="line">        }</div><div class="line">    }</div><div class="line">]</div></pre></td></tr></table></figure>
<p>We can also narrow down the information we want to return by requesting a specific element, for example to return the container&#x2019;s IP address we would:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker inspect -f &apos;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&apos; jolly_franklin</div><div class="line">172.17.0.2</div></pre></td></tr></table></figure>
<h3 id="Stopping-our-web-application-container"><a href="#Stopping-our-web-application-container" class="headerlink" title="Stopping our web application container"></a>Stopping our web application container</h3><p>Okay you&#x2019;ve seen web application working. Now you can stop it using the <code>docker stop</code> command and the name of our container: <code>jolly_franklin</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker stop jolly_franklin</div><div class="line">jolly_franklin</div></pre></td></tr></table></figure>
<p>We can now use the docker ps command to check if the container has been stopped.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker ps -l</div></pre></td></tr></table></figure>
<h3 id="Restarting-our-web-application-container"><a href="#Restarting-our-web-application-container" class="headerlink" title="Restarting our web application container"></a>Restarting our web application container</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker start jolly_franklin</div><div class="line">jolly_franklin</div></pre></td></tr></table></figure>
<p>Now quickly run <code>docker ps -l</code> again to see the running container is back up or browse to the container&#x2019;s URL to see if the application responds.</p>
<blockquote>
<p>Note: Also available is the <code>docker restart</code> command that runs a stop and then start on the container.</p>
</blockquote>
<h3 id="Removing-our-web-application-container"><a href="#Removing-our-web-application-container" class="headerlink" title="Removing our web application container"></a>Removing our web application container</h3><p>Your colleague has let you know that they&#x2019;ve now finished with the container and won&#x2019;t need it again. Now, you can remove it using the <code>docker rm</code> command.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker rm jolly_franklin</div><div class="line">Error response from daemon: You cannot remove a running container 691a88c35245b905c8bdc612aa492c7893ea261c13a8ae245cea38ca2be14275. Stop the container before attempting removal or use -f</div></pre></td></tr></table></figure>
<p>What happened? We can&#x2019;t actually remove a running container. </p>
<p>This protects you from accidentally removing a running container you might need. You can try this again by stopping the container first.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">PS C:\Users\Lin&gt; docker stop jolly_franklin</div><div class="line">jolly_franklin</div><div class="line">PS C:\Users\Lin&gt; docker rm jolly_franklin</div><div class="line">jolly_franklin</div></pre></td></tr></table></figure>
<p>And now our container is stopped and deleted.</p>
<blockquote>
<p>Note: Always remember that removing a container is final!</p>
</blockquote>
</div></article></div></section><footer><div class="paginator"><a href="/2016/07/31/container/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'chihkang';
var disqus_identifier = '2016/08/04/Docker/';
var disqus_title = 'Running a web application in Docker';
var disqus_url = 'https://chihkang.github.io/2016/08/04/Docker/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//chihkang.disqus.com/count.js" async></script><div class="copyright"><p>Powered by Hexo and Theme by <a href="https://github.com/pinggod/hexo-theme-apollo">apollo</a> © 2015 - 2016 <a href="https://chihkang.github.io">ChihKang Lin</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>